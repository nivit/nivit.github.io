var caretPositionAmp;jQuery.fn.extend({getSelection:function(){var k=this.jquery?this[0]:this;var b;var f;var c;if(document.selection){var p=document.selection.createRange();if(p.text){var d=0;c=p.text;if(k.value.match(/\n/g)!=null){d=k.value.match(/\n/g).length}var e=0;var j=0;var g=0;if(typeof(k.selectionStart)=="number"){b=k.selectionStart;f=k.selectionEnd;if(b==f){return this}}else{var n=k.createTextRange();var m;var o;var a=n.duplicate();m=n.text;n.moveToBookmark(p.getBookmark());o=n.text;a.setEndPoint("EndToStart",n);if(m==o&&m!=p.text){return this}b=a.text.length;f=a.text.length+p.text.length}if(d>0){for(var h=0;h<=d;h++){var l=k.value.indexOf("\n",j);if(l!=-1&&l<b){j=l+1;e++;g=e}else{if(l!=-1&&l>=b&&l<=f){if(l==b+1){e--;g--;j=l+1;continue}j=l+1;g++}else{h=d}}}}if(p.text.indexOf("\n",0)==1){g=g+2}b=b-e;f=f-g;return{start:b,end:f,text:p.text,length:f-b}}return false}else{if(typeof(k.selectionStart)=="number"&&k.selectionStart!=k.selectionEnd){b=k.selectionStart;f=k.selectionEnd;c=k.value.substring(k.selectionStart,k.selectionEnd);return{start:b,end:f,text:c,length:f-b}}else{return{start:undefined,end:undefined,text:undefined,length:undefined}}}},replaceSelection:function(h){var j=this.jquery?this[0]:this;var b;var e;var g=0;var a;var m;var d=0;var c=0;if(document.selection&&typeof(j.selectionStart)!="number"){var o=document.selection.createRange();if(typeof(j.selectionStart)!="number"){var l;var n;m=j.createTextRange();a=m.duplicate();l=m.text;m.moveToBookmark(o.getBookmark());n=m.text;a.setEndPoint("EndToStart",m);if(l==n&&l!=o.text){return this}}if(o.text){part=o.text;if(j.value.match(/\n/g)!=null){d=j.value.match(/\n/g).length}b=a.text.length;if(d>0){for(var f=0;f<=d;f++){var k=j.value.indexOf("\n",g);if(k!=-1&&k<b){g=k+1;c++}else{f=d}}}o.text=h;caretPositionAmp=a.text.length+h.length;m.move("character",caretPositionAmp);document.selection.empty();j.blur()}return this}else{if(typeof(j.selectionStart)=="number"&&j.selectionStart!=j.selectionEnd){b=j.selectionStart;e=j.selectionEnd;j.value=j.value.substr(0,b)+h+j.value.substr(e);g=b+h.length;j.setSelectionRange(g,g);return this}}return this},insertAtCaretPos:function(h){var j=this.jquery?this[0]:this;var b;var e;var g;var n;var m;var a;var l;var d=0;var c=0;j.focus();if(document.selection&&typeof(j.selectionStart)!="number"){if(j.value.match(/\n/g)!=null){d=j.value.match(/\n/g).length}l=parseInt(caretPositionAmp);if(d>0){for(var f=0;f<=d;f++){var k=j.value.indexOf("\n",g);if(k!=-1&&k<=l){g=k+1;l=l-1;c++}}}}caretPositionAmp=parseInt(caretPositionAmp);j.onclick=function(){if(document.selection&&typeof(j.selectionStart)!="number"){n=document.selection.createRange();m=j.createTextRange();a=m.duplicate();m.moveToBookmark(n.getBookmark());a.setEndPoint("EndToStart",m);caretPositionAmp=a.text.length}};if(document.selection&&typeof(j.selectionStart)!="number"){n=document.selection.createRange();if(n.text.length!=0){return this}m=j.createTextRange();textLength=m.text.length;a=m.duplicate();m.moveToBookmark(n.getBookmark());a.setEndPoint("EndToStart",m);b=a.text.length;if(caretPositionAmp>=0&&b==0&&caretPositionAmp!=b){c=caretPositionAmp-c;m.move("character",c);m.select();n=document.selection.createRange();caretPositionAmp+=h.length}else{if(caretPositionAmp==undefined&&b==0){m.move("character",textLength);m.select();n=document.selection.createRange();caretPositionAmp=h.length}else{if(!(parseInt(caretPositionAmp)>=0)){m.move("character",b);document.selection.empty();m.select();n=document.selection.createRange();caretPositionAmp=b+h.length}else{if(parseInt(caretPositionAmp)>=0){m.move("character",caretPositionAmp-b);document.selection.empty();m.select();n=document.selection.createRange();caretPositionAmp=caretPositionAmp+h.length}else{m.move("character",caretPositionAmp-b);document.selection.empty();m.select();n=document.selection.createRange();caretPositionAmp=caretPositionAmp+h.length}}}}n.text=h;j.focus();return this}else{if(typeof(j.selectionStart)=="number"&&j.selectionStart==j.selectionEnd){g=j.selectionStart+h.length;b=j.selectionStart;e=j.selectionEnd;j.value=j.value.substr(0,b)+h+j.value.substr(e);j.setSelectionRange(g,g);return this}}return this},setCaretPos:function(e){var f=this.jquery?this[0]:this;var j;var h;var d;var a;var b=0;var g;f.focus();if(parseInt(e)==0){return this}if(parseInt(e)>0){e=parseInt(e)-1;if(document.selection&&typeof(f.selectionStart)=="number"&&f.selectionStart==f.selectionEnd){if(f.value.match(/\n/g)!=null){a=f.value.match(/\n/g).length}if(a>0){for(var c=0;c<=a;c++){g=f.value.indexOf("\n",d);if(g!=-1&&g<=e){d=g+1;e=parseInt(e)+1}}}}}else{if(parseInt(e)<0){e=parseInt(e)+1;if(document.selection&&typeof(f.selectionStart)!="number"){e=f.value.length+parseInt(e);if(f.value.match(/\n/g)!=null){a=f.value.match(/\n/g).length}if(a>0){for(var c=0;c<=a;c++){g=f.value.indexOf("\n",d);if(g!=-1&&g<=e){d=g+1;e=parseInt(e)-1;b+=1}}e=e+b-a}}else{if(document.selection&&typeof(f.selectionStart)=="number"){e=f.value.length+parseInt(e);if(f.value.match(/\n/g)!=null){a=f.value.match(/\n/g).length}if(a>0){e=parseInt(e)-a;for(var c=0;c<=a;c++){g=f.value.indexOf("\n",d);if(g!=-1&&g<=(e)){d=g+1;e=parseInt(e)+1;b+=1}}}}else{e=f.value.length+parseInt(e)}}}else{return this}}if(document.selection&&typeof(f.selectionStart)!="number"){j=document.selection.createRange();if(j.text!=0){return this}h=f.createTextRange();h.moveToBookmark(j.getBookmark());h.move("character",e);h.select();j=document.selection.createRange();j.text="";caretPositionAmp=e;f.focus();return this}else{if(typeof(f.selectionStart)=="number"&&f.selectionStart==f.selectionEnd){f.setSelectionRange(e,e);return this}}return this},countCharacters:function(b){var a=this.jquery?this[0]:this;if(a.value.match(/\r/g)!=null){return a.value.length-a.value.match(/\r/g).length}return a.value.length},setMaxLength:function(a,b){this.each(function(){var d=this.jquery?this[0]:this;var f=d.type;var e;var c;if(parseInt(a)<0){a=100000000}if(f=="text"){d.maxLength=a}if(f=="textarea"||f=="text"){d.onkeypress=function(j){var g=d.value.match(/\r/g);c=a;if(g!=null){c=parseInt(c)+g.length}var h=j||event;var i=h.keyCode;if(document.selection){e=document.selection.createRange().text.length>0}else{e=d.selectionStart!=d.selectionEnd}if(d.value.length>=c&&(i>47||i==32||i==0||i==13)&&!h.ctrlKey&&!h.altKey&&!e){d.value=d.value.substring(0,c);if(typeof(b)=="function"){b()}return false}};d.onkeyup=function(){var h=d.value.match(/\r/g);var k=0;var g=0;c=a;if(h!=null){for(var j=0;j<=h.length;j++){if(d.value.indexOf("\n",g)<=parseInt(a)){k++;g=d.value.indexOf("\n",g)+1}}c=parseInt(a)+k}if(d.value.length>c){d.value=d.value.substring(0,c);if(typeof(b)=="function"){b()}return this}}}else{return this}});return this}});(function(a){a.fn.caret=function(f){var e=this[0];if(arguments.length==0){if(e.selectionStart){var f=e.selectionStart;return f>0?f:0}else{if(e.createTextRange){e.focus();var b=document.selection.createRange();if(b==null){return"0"}var c=e.createTextRange();var d=c.duplicate();c.moveToBookmark(b.getBookmark());d.setEndPoint("EndToStart",c);return d.text.length}else{return 0}}}if(e.setSelectionRange){e.setSelectionRange(f,f)}else{if(e.createTextRange){var b=e.createTextRange();b.collapse(true);b.moveEnd("character",f);b.moveStart("character",f);b.select()}}}})(jQuery);jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};jQuery.easing={easein:function(e,f,a,h,g){return h*(f/=g)*f+a},easeinout:function(e,f,a,i,h){if(f<h/2){return 2*i*f*f/(h*h)+a}var g=f-h/2;return -2*i*g*g/(h*h)+2*i*g/h+i/2+a},easeout:function(e,f,a,h,g){return -h*f*f/(g*g)+2*h*f/g+a},expoin:function(e,f,a,i,h){var g=1;if(i<0){g*=-1;i*=-1}return g*(Math.exp(Math.log(i)/h*f))+a},expoout:function(e,f,a,i,h){var g=1;if(i<0){g*=-1;i*=-1}return g*(-Math.exp(-Math.log(i)/h*(f-h))+i+1)+a},expoinout:function(e,f,a,i,h){var g=1;if(i<0){g*=-1;i*=-1}if(f<h/2){return g*(Math.exp(Math.log(i/2)/(h/2)*f))+a}return g*(-Math.exp(-2*Math.log(i/2)/h*(f-h))+i+1)+a},bouncein:function(e,f,a,h,g){return h-jQuery.easing.bounceout(e,g-f,0,h,g)+a},bounceout:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},bounceinout:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.bouncein(e,f*2,0,h,g)*0.5+a}return jQuery.easing.bounceout(e,f*2-g,0,h,g)*0.5+h*0.5+a},elasin:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},elasout:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},elasinout:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},backin:function(e,f,a,i,h){var g=1.70158;return i*(f/=h)*f*((g+1)*f-g)+a},backout:function(e,f,a,i,h){var g=1.70158;return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},backinout:function(e,f,a,i,h){var g=1.70158;if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},linear:function(e,f,a,h,g){return h*f/g+a}};(function(a){a.fn.lavaLamp=function(b){b=a.extend({fx:"linear",speed:500,click:function(){}},b||{});return this.each(function(){var f=a(this),e=function(){},h=a('<li class="back"><div class="left"></div></li>').appendTo(f),i=a("li",this),g=a("li.current",this)[0]||a(i[0]).addClass("current")[0];i.not(".back").hover(function(){c(this)},e);a(this).hover(e,function(){c(g)});i.click(function(j){d(this);return b.click.apply(this,[j,this])});d(g);function d(j){h.css({left:j.offsetLeft+"px",width:j.offsetWidth+"px"});g=j}function c(j){h.each(function(){a(this).dequeue()}).animate({width:j.offsetWidth,left:j.offsetLeft},b.speed,b.fx)}})}})(jQuery);(function(a){a.fn.wcaret=function(n,j){var b,f,l=this[0];if(typeof n==="object"&&typeof n.start==="number"&&typeof n.end==="number"){b=n.start;f=n.end}else{if(typeof n==="number"&&typeof j==="number"){b=n;f=j}else{if(typeof n==="string"){if((b=l.value.indexOf(n))>-1){f=b+n.length}else{b=null}}else{if(Object.prototype.toString.call(n)==="[object RegExp]"){var k=n.exec(l.value);if(k!=null){b=k.index;f=b+k[0].length}}}}}if(typeof b!="undefined"){if(a.browser.msie){var h=this[0].createTextRange();h.collapse(true);h.moveStart("character",b);h.moveEnd("character",f-b);h.select()}else{this[0].selectionStart=b;this[0].selectionEnd=f}this[0].focus();return this}else{if(a.browser.msie){var c=this.val();var g=document.selection.createRange().duplicate();g.moveEnd("character",c.length);var m=(g.text==""?c.length:c.lastIndexOf(g.text));g=document.selection.createRange().duplicate();g.moveStart("character",-c.length);var i=g.text.length}else{var m=l.selectionStart,i=l.selectionEnd}var d=l.value.substring(m,i);return{start:m,end:i,text:d,replace:function(e){return l.value.substring(0,m)+e+l.value.substring(i,l.value.length)}}}return this}})(jQuery);